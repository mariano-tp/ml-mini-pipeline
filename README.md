[![ci](https://img.shields.io/github/actions/workflow/status/mariano-tp/ml-mini-pipeline/ci.yml?branch=main&label=tests&style=flat-square)](https://github.com/mariano-tp/ml-mini-pipeline/actions/workflows/ci.yml)
[![model-ci](https://img.shields.io/github/actions/workflow/status/mariano-tp/ml-mini-pipeline/model-ci.yml?branch=main&label=model-ci&style=flat-square)](https://github.com/mariano-tp/ml-mini-pipeline/actions/workflows/model-ci.yml)
[![last commit](https://img.shields.io/github/last-commit/mariano-tp/ml-mini-pipeline?style=flat-square)](https://github.com/mariano-tp/ml-mini-pipeline/commits/main)
[![release](https://img.shields.io/github/v/release/mariano-tp/ml-mini-pipeline?display_name=tag&style=flat-square)](https://github.com/mariano-tp/ml-mini-pipeline/releases)
[![license: MIT](https://img.shields.io/badge/license-MIT-green?style=flat-square)](./LICENSE)
[![stars](https://img.shields.io/github/stars/mariano-tp/ml-mini-pipeline?style=flat-square)](https://github.com/mariano-tp/ml-mini-pipeline/stargazers)

# Machine Learning Mini Pipeline

Mini Machine Learning (ML) pipeline with `scikit-learn` designed for portfolio purposes:
- generates a synthetic dataset,
- trains a model (`LogisticRegression`),
- saves artifacts in `./artifacts/` (`model.pkl` and `metrics.json`),
- runs **pytest** in CI with **GitHub Actions**.

> 100% online: push the repo and run **Actions**; the pipeline trains in CI and publishes run artifacts.

---

## Run locally (optional)

```bash
python -m venv .venv && source .venv/bin/activate      # Windows: .venv\Scripts\activate
pip install -r requirements.txt -r requirements-dev.txt

# train and save artifacts
python -c "from src.pipeline import train_and_evaluate; train_and_evaluate()"

# tests
pytest -q
```

### Generated artifacts

```
artifacts/
├── model.pkl
└── metrics.json
```

`metrics.json` (example):

```json
{
  "accuracy": 0.89,
  "precision": 0.88,
  "recall": 0.91,
  "f1": 0.89,
  "timestamp": "2025-08-24T18:00:00Z",
  "model_type": "LogisticRegression"
}
```

---

## CI (GitHub Actions)

The workflow `ci.yml` runs on each *push/PR*:
1) Dependency installation.
2) **Model training** (generates `artifacts/`).
3) **Tests** with `pytest`.
4) (Optional) Publishing run artifacts.

To upload artifacts, add this step at the end of the job:

```yaml
- name: Upload artifacts (model + metrics)
  uses: actions/upload-artifact@v4
  with:
    name: artifacts
    path: artifacts/**
```

---

## Structure

```text
.
├── artifacts/               # generated by the pipeline (gitignored)
├── src/
│   ├── __init__.py
│   └── pipeline.py          # orchestration (train_and_evaluate)
├── tests/
│   ├── test_metrics_schema.py
│   └── test_pipeline.py
├── requirements.txt
├── requirements-dev.txt
└── .github/workflows/ci.yml
```

---

## Releases

- Create a version from **Releases → Draft new release** (e.g. `v0.1.0`).
- Tag it as *Latest* and pin it so it’s visible in the README (release badge).

---

## Credits

Portfolio repository by **@mariano-tp**. Inspired by minimalist MLOps practices (synthetic data + artifacts + CI).

See also: [Code of Conduct](./CODE_OF_CONDUCT.md) · [Contributing](./CONTRIBUTING.md) · [Security](./SECURITY.md)
